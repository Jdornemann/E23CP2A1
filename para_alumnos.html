<html>
<head>
	<meta charset="UTF-8">
	<title>Selectores jQuery</title>
	<style type="text/css">
	.rojo{
		color: #cc0000;
	}
	.verde{
		color: #00cc00;
	}
	.azul{
		color: #0000cc;
	}
	.fondogris{
		background-color: #cccccc;
	}
	body{
		font-family: verdana, arial, helvetica;
	}
	div{
		margin-bottom: 4px;
	}
	</style>

	<script   src="https://code.jquery.com/jquery-3.2.1.min.js"   integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="   crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


    <!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


</head>

<body>
<div class="jumbotron">
	<div class="container">
		<h1>Selectores en jQuery</h1>

	<p>Escribe un selector <b>jQuery</b> en el campo de texto y observa como se <i>destacan los elementos</i> seleccionados</p>
	</div>
</div>
<main class="container">

<div class="row">
	<div class="col-md-4">
		<form>
			<div class="form-group">
				<label for="camposelector">Selector</label>
				<input type="Text" name="camposelector" id="camposelector" class="form-control">
			</div>
			<input type="button" id="boton" value="Ejecutar Selector" class="btn btn-warning btn-sm">
			<p id='result'></p>
		</form>
		<div class="row">
			<div class="col-md-6">
				<div class="historial">
					<h5>Historial de selectores:</h5>
				</div>
			</div>
			<div class="col-md-6">
				<div class="seleccionados">
					<h5>Elementos seleccionados:</h5>
				</div>
			</div>
		</div>
		
	</div>

	<div class="col-md-8 main" id='prin'>
		<p id="p1" class="rojo">
			Este es un párrafo con id="p1" y class="rojo"
		</p>

		<p id="p2" class="verde">
			Este es un párrafo con id="p2", class="verde" y <i>texto en itálica</i>
		</p>

		<p id="p3" class="rojo fondogris">
			Este es un párrafo con id="p3" y class="rojo fondogris" (es decir, este elemento tiene aplicadas las clases "rojo" y "fondogris")
		</p>

		<p id="p4">
			Este es un párrafo con id="p4" y sin class
		</p>

		<div id="div1">
			Esto es un div con id="div1"
		</div>

		<div id="div2" class="rojo">
			Esto es un div con id="div2", class="rojo" y <b>texto en negrita</b>
		</div>

		<div id="div3" class="verde fondogris">
			Esto es un div con id="div3" y class="verde fondogris"
		</div>

		<div>
			Esto es un div sin id ni class
		</div>

		<div class="azul">
			Esto es un div sin id y con class="azul"
		</div>

		<b>Esto es una etiqueta &lt;b&gt; para texto en negrita.</b>
		<br>
		<i>Esto es una etiqueta &lt;i&gt; para texto en itálica.</i>
	</div>
</div>


  
  <div  class="alert alert-danger" role="alert"></div>
</main>

<script>
	// Agregar las instrucciones JS para resolver el ejercicio aquí.

	$('div.alert').hide();
	$('#boton').click(function(){

		if ($('#camposelector').val() == '')
		{
			alert('Debe ingresar un selector jQuery!');
			return;
		}

		var textInput = $('#camposelector').val();
		var elements = ['p','div','b','i'];
		var comodin = ['$','.','#','(',')',"'","'"];
		var total = comodin.length
		// console.log(comodin);
		// console.log(elements);
		// console.log(total);
		
try {
	$('div.alert').hide();
	if (eval(textInput).length == 0)
	{
throw 'No existe elemento'
	} 
} catch (error) {
	$('#camposelector').val('');
	$('div.alert').text(error);
	$('div.alert').show();
	
}
			if (eval(textInput).length > 0)
			{
				console.log(eval(textInput).length );
				$('div.seleccionados').append(eval(textInput).length + '<br>' );
				$('div.historial').append(textInput + '<br>');
				
				eval(textInput).fadeOut(3000);
				eval(textInput).fadeIn(2000);
				
			}

		var countCom = 0;	
		for (var i = 0; i < textInput.length; i++) 
		{
			//console.log(textInput.charAt(i));
			
			var existCom = evaluateSelector(comodin,textInput.charAt(i));
			if(existCom ==true)
			{
				countCom += 1;
			}

			var existSel = evaluateSelector(elements,textInput.charAt(i));

		}
	

		function evaluateSelector(array, value)
		{
			for (let index = 0; index < array.length; index++) {
				const element = array[index];
				
				if (element == value)
				{
					return true;
				}
				return false;
			}
		}
		




	});
</script>

</body>
</html>